{
  "id" : "e2f69d34-21f8-40d4-b87e-f4d9897cd87b",
  "name" : "TEST - Commerce Cloud Product To Power Reviews",
  "enabled" : true,
  "tasks" : [ {
    "id" : "ef0671cb-8c14-45a8-827d-1ec9d45e4bca",
    "ordinal" : 1,
    "taskParameters" : [ {
      "id" : "4250c433-f453-4e79-acfb-2fceacf90fdc",
      "ordinal" : 1,
      "value" : "brian.tarbell",
      "desc" : "Login user for authentication",
      "name" : "user",
      "valueType" : 0,
      "secret" : false,
      "refId" : "4f75fa01-c582-49aa-8f20-1b48462a8b28",
      "refValue" : "johnny.appleseed",
      "created" : [ 2018, 6, 7, 13, 54, 32, 211000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 211000000 ]
    }, {
      "id" : "6d797064-55fa-4b2b-a580-6ddbcb8e0fcb",
      "ordinal" : 2,
      "value" : "S7Sefixa+ge2KTHj04wmRw==",
      "desc" : "Login password for authentication",
      "name" : "password",
      "valueType" : 0,
      "secret" : true,
      "refId" : "48fbf631-e014-45ee-a8eb-298ac7d1fa21",
      "refValue" : "somepassword",
      "created" : [ 2018, 6, 7, 13, 54, 32, 213000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 213000000 ]
    }, {
      "id" : "4f628d40-01e7-4779-9f21-aa8084df3d2d",
      "ordinal" : 3,
      "value" : "https://ignition01.alliance-prtnr-na01.dw.demandware.net/on/demandware.servlet/webdav/Sites/Impex/src/ProductExport/ProductExportFeed.xml",
      "desc" : "URL to file",
      "name" : "url",
      "valueType" : 0,
      "secret" : false,
      "refId" : "45c250b3-72b5-4d81-a392-6ab7c6f5709d",
      "refValue" : "ftp://someftphost/input/*.xml",
      "created" : [ 2018, 6, 7, 13, 54, 32, 215000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 215000000 ]
    }, {
      "id" : "d16c7066-f45a-4ae0-aac0-a88905cce87e",
      "ordinal" : 4,
      "value" : "SFCCProductList",
      "desc" : "Key name of output file",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "201b77ea-8e35-4c3c-9f45-dd8afc123e10",
      "refValue" : "OutputFileKey",
      "created" : [ 2018, 6, 7, 13, 54, 32, 216000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 216000000 ]
    }, {
      "id" : "6b13e14a-2568-4606-b3ff-f6d487f1541d",
      "ordinal" : 5,
      "value" : "function accept(files, file) {\n\treturn true;\n}",
      "desc" : "Javascript function to filter results",
      "name" : "fileFilter",
      "valueType" : 2,
      "secret" : false,
      "refId" : "5f033806-4a10-45cc-8624-047cfc4bfb93",
      "refValue" : "function accept(files, file) {\n\treturn true;\n}",
      "created" : [ 2018, 6, 7, 13, 54, 32, 218000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 218000000 ]
    } ],
    "job" : {
      "id" : "e2f69d34-21f8-40d4-b87e-f4d9897cd87b",
      "name" : "TEST - Commerce Cloud Product To Power Reviews",
      "enabled" : true,
      "desc" : "TEST - Commerce Cloud Product To Power Reviews",
      "status" : "Ready",
      "key" : "IC-00000018",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 65,
      "updated" : [ 2018, 6, 7, 14, 56, 22, 426000000 ],
      "created" : [ 2018, 6, 7, 13, 54, 32, 207000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "Download File to Map Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.DownloadFileToMapTask",
    "enabled" : true,
    "desc" : "Task used to download a file from FTP, SFTP, WebDav, S3, or Local.",
    "refId" : "84211b05-40ce-4939-874d-825b983c3bda",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : true,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 13, 54, 32, 209000000 ],
    "updated" : [ 2018, 6, 7, 13, 54, 57, 897000000 ],
    "nodeTask" : false
  }, {
    "id" : "c9e5d065-2003-49eb-a7f6-5fb301a48de9",
    "ordinal" : 2,
    "taskParameters" : [ {
      "id" : "ed406e20-5f77-432b-8f64-d15385b6bd2a",
      "ordinal" : 1,
      "value" : "SFCCProductList",
      "desc" : "Key name of input file\n",
      "name" : "inputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "33b71961-09fb-4f69-9df8-46721a14b8a4",
      "refValue" : "InputFileKey",
      "created" : [ 2018, 6, 7, 13, 54, 32, 221000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 221000000 ]
    }, {
      "id" : "94f17646-c9be-4d8c-9727-ec3a16a62d49",
      "ordinal" : 2,
      "value" : "SFCCProductMap",
      "desc" : "Key name of output",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "f1628808-0116-4d32-bff0-af0cb53d06b2",
      "refValue" : "OutputKey",
      "created" : [ 2018, 6, 7, 13, 54, 32, 223000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 223000000 ]
    }, {
      "id" : "760278e6-f7e1-4469-b8db-d28874144149",
      "ordinal" : 4,
      "value" : "/transform/products/product_record",
      "desc" : "Node to break the row on",
      "name" : "rowIndicator",
      "valueType" : 0,
      "secret" : false,
      "refId" : "be88cc2e-5ba9-4277-a484-1d8146b78565",
      "refValue" : "Order",
      "created" : [ 2018, 6, 7, 13, 54, 32, 224000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 224000000 ]
    } ],
    "job" : {
      "id" : "e2f69d34-21f8-40d4-b87e-f4d9897cd87b",
      "name" : "TEST - Commerce Cloud Product To Power Reviews",
      "enabled" : true,
      "desc" : "TEST - Commerce Cloud Product To Power Reviews",
      "status" : "Ready",
      "key" : "IC-00000018",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 65,
      "updated" : [ 2018, 6, 7, 14, 56, 22, 426000000 ],
      "created" : [ 2018, 6, 7, 13, 54, 32, 207000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "XML to Map Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.XmlToMapTask",
    "enabled" : true,
    "desc" : "Task used to read xml file into the map.",
    "refId" : "4ca3d6e5-23fc-4d6a-beb2-09f0c9a5c2f3",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : false,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 13, 54, 32, 219000000 ],
    "updated" : [ 2018, 6, 7, 13, 54, 57, 920000000 ],
    "nodeTask" : false
  }, {
    "id" : "b7a60bab-9d7e-48a5-be58-4c719c149c98",
    "ordinal" : 3,
    "taskParameters" : [ {
      "id" : "f5d3b810-2a83-4d4d-ab1b-680dd33c40d2",
      "ordinal" : 1,
      "value" : "var inDebug = dict.inDebug; \n$includeScript('global');\n\ntry {\n    var productIterator = ICT.MAP.ITERATOR('SFCCProductMap');\n    \n    var root = new java.util.HashMap();\n    var products = new java.util.ArrayList();\n\n    while (productIterator.hasNext()) {\n      var productRecord = productIterator.next();\n      \n      var product = new java.util.HashMap();\n      \n      product.put(\"ExternalId\", productRecord.product_id);\n      product.put(\"Name\", productRecord.product_name);\n      product.put(\"Description\", productRecord.product_long_description);\n      if (productRecord.product_category == null || productRecord.product_category.length <= 0) {\n      \t  product.put(\"CategoryExternalId\", \"\");\n      } else {\n\t      product.put(\"CategoryExternalId\", productRecord.product_category);\n\t  }\n      product.put(\"ProductPageUrl\", productRecord.product_url);\n      product.put(\"ImageUrl\", productRecord.product_image_link);\n      if (productRecord.product_manufacturer_sku.length <= 0) {\n      \t  product.put(\"ManufacturerPartNumber\", \"\");\n      } else {\n\t      product.put(\"ManufacturerPartNumber\", productRecord.product_manufacturer_sku);\n\t  }\n\t  product.put(\"Price\", productRecord.product_sale_price_default);\n\t  if (productRecord.product_brand == null || productRecord.product_brand.length <= 0) {\n      \t  product.put(\"Brand\", \"\");\n      } else {\n\t      product.put(\"Brand\", productRecord.product_brand);\n\t  }\n\t  if (productRecord.product_upc.length <= 0) {\n      \t  product.put(\"UPC\", \"\");\n      } else {\n\t      product.put(\"UPC\", productRecord.product_upc);\n\t  }\n\t  if (productRecord.product_availability == 'in stock') {\n\t  \tproduct.put(\"Available\", \"true\");\n\t  } else {\n\t  \tproduct.put(\"Available\", \"false\");\n\t  }\n\n      products.add(product);\n    }\n    \n    root.put(\"Products\", products);\n    dict.put(\"Root\", root);\n} catch (err) {\n    var errMessage = 'An error occurred while trying to process inventory file Exception: ' + err;\n    ICT.TASK_ERROR('Demo -> Inventory File -> Error', errMessage);    \n}",
      "desc" : "Script to execute",
      "name" : "script",
      "valueType" : 2,
      "secret" : false,
      "refId" : "61734d1c-1ff6-4a2b-a251-00f3bd76b9ed",
      "refValue" : "Javascript",
      "created" : [ 2018, 6, 7, 13, 54, 32, 228000000 ],
      "updated" : [ 2018, 6, 7, 14, 56, 22, 411000000 ]
    } ],
    "job" : {
      "id" : "e2f69d34-21f8-40d4-b87e-f4d9897cd87b",
      "name" : "TEST - Commerce Cloud Product To Power Reviews",
      "enabled" : true,
      "desc" : "TEST - Commerce Cloud Product To Power Reviews",
      "status" : "Ready",
      "key" : "IC-00000018",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 65,
      "updated" : [ 2018, 6, 7, 14, 56, 22, 426000000 ],
      "created" : [ 2018, 6, 7, 13, 54, 32, 207000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "Script Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.ScriptTask",
    "enabled" : true,
    "desc" : "Task used to execute custom javascript.",
    "refId" : "f5d44f40-cbd4-45fa-b45f-b062e546ad0f",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : false,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 13, 54, 32, 226000000 ],
    "updated" : [ 2018, 6, 7, 13, 54, 57, 943000000 ],
    "nodeTask" : false
  }, {
    "id" : "9dec53b1-15d4-484f-ae0f-2cea70528704",
    "ordinal" : 4,
    "taskParameters" : [ {
      "id" : "cdb217fa-8361-4e6a-b8ea-47008a9bf9b4",
      "ordinal" : 1,
      "value" : "Root",
      "desc" : "Key name of input ",
      "name" : "inputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "e2963db8-9c7d-4863-b1ec-7a1bf15dbd52",
      "refValue" : "InputKey",
      "created" : [ 2018, 6, 7, 13, 54, 32, 232000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 232000000 ]
    }, {
      "id" : "ee19205b-d694-4930-92fa-4a3db0ce0324",
      "ordinal" : 2,
      "value" : "product_url\tname\tdescription\tprice\timage_url\tcategory\tmanufacturer_id\tbrand\tpage_id\tupc\tin_stock\tadd_to_cart_url\tpage_id_variant\n<#list Products as map>\n${map.ProductPageUrl}\t${map.Name}\t${map.Description}\t${map.Price}\t${map.ImageUrl}\t${map.CategoryExternalId}\t${map.ManufacturerPartNumber}\t${map.Brand}\t${map.ExternalId}\t${map.UPC}\t${map.Available}\t${map.ProductPageUrl}\t${map.ExternalId}\n</#list>",
      "desc" : "Template to use",
      "name" : "template",
      "valueType" : 2,
      "secret" : false,
      "refId" : "ed2bc33b-2474-4c9f-a7bb-80183abe53cf",
      "refValue" : "<xml version=\"1.0\"><test>${test}</test>",
      "created" : [ 2018, 6, 7, 13, 54, 32, 233000000 ],
      "updated" : [ 2018, 6, 7, 14, 56, 5, 594000000 ]
    }, {
      "id" : "a06a3c50-a2aa-4214-811c-025f3afde049",
      "ordinal" : 3,
      "value" : "Root",
      "desc" : "Key name of output ",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "be1f40ef-6389-4aa3-9124-4231b715107a",
      "refValue" : "OutputKey",
      "created" : [ 2018, 6, 7, 13, 54, 32, 235000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 235000000 ]
    } ],
    "job" : {
      "id" : "e2f69d34-21f8-40d4-b87e-f4d9897cd87b",
      "name" : "TEST - Commerce Cloud Product To Power Reviews",
      "enabled" : true,
      "desc" : "TEST - Commerce Cloud Product To Power Reviews",
      "status" : "Ready",
      "key" : "IC-00000018",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 65,
      "updated" : [ 2018, 6, 7, 14, 56, 22, 426000000 ],
      "created" : [ 2018, 6, 7, 13, 54, 32, 207000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "Freemarker Execute Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.FreemarkerExecuteTask",
    "enabled" : true,
    "desc" : "Task used to execute Freemarker template.",
    "refId" : "edb872f0-243b-46ea-9149-ca967fe766e7",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : false,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 13, 54, 32, 230000000 ],
    "updated" : [ 2018, 6, 7, 13, 54, 57, 965000000 ],
    "nodeTask" : false
  }, {
    "id" : "00dbdedf-b204-4c51-a2dc-b6b1373fdc0d",
    "ordinal" : 5,
    "taskParameters" : [ {
      "id" : "0a08c70e-ff55-436d-9b88-fe182a52b010",
      "ordinal" : 1,
      "value" : "brian.tarbell",
      "desc" : "Login user for authentication",
      "name" : "user",
      "valueType" : 0,
      "secret" : false,
      "refId" : "a68a11c6-cef6-4408-85f5-4f0728e8e3c7",
      "refValue" : "johnny.appleseed",
      "created" : [ 2018, 6, 7, 13, 54, 32, 238000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 238000000 ]
    }, {
      "id" : "be2bff1d-4f29-4173-8c3f-d0415050ba39",
      "ordinal" : 2,
      "value" : "S7Sefixa+ge2KTHj04wmRw==",
      "desc" : "Login password for authentication",
      "name" : "password",
      "valueType" : 0,
      "secret" : true,
      "refId" : "a34fea04-c5b1-442c-975e-1655184f32f3",
      "refValue" : "somepassword",
      "created" : [ 2018, 6, 7, 13, 54, 32, 240000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 240000000 ]
    }, {
      "id" : "efc70b1c-6328-4cdd-a927-692815bd06b6",
      "ordinal" : 3,
      "value" : "${\n    'https://ignition01-alliance-prtnr-na01-dw.demandware.net/on/demandware.servlet/webdav/Sites/Impex/src/ProductExport/PowerReviews.txt';\n}",
      "desc" : "URL to file",
      "name" : "url",
      "valueType" : 2,
      "secret" : false,
      "refId" : "b102d706-66ce-4d8b-8944-ec8ba327b7b2",
      "refValue" : "ftp://someftphost/input/myfile.xml",
      "created" : [ 2018, 6, 7, 13, 54, 32, 242000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 242000000 ]
    }, {
      "id" : "bedcacb3-d3d7-4ba8-ab9a-cba49bd9d0d9",
      "ordinal" : 4,
      "value" : "Root",
      "desc" : "Key name of input file",
      "name" : "inputKey",
      "valueType" : 2,
      "secret" : false,
      "refId" : "06532b8a-daf2-457c-8c65-701e9cc0ec01",
      "refValue" : "InputFileKey",
      "created" : [ 2018, 6, 7, 13, 54, 32, 244000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 244000000 ]
    }, {
      "id" : "e8de88be-a3cc-45d9-b45c-898ac38e3016",
      "ordinal" : 5,
      "value" : "true",
      "desc" : "Should we overwrite",
      "name" : "overwrite",
      "valueType" : 0,
      "secret" : false,
      "refId" : "5fa90437-e92d-468d-8890-edf5c8a0f2bc",
      "refValue" : "true",
      "created" : [ 2018, 6, 7, 13, 54, 32, 245000000 ],
      "updated" : [ 2018, 6, 7, 13, 54, 32, 245000000 ]
    } ],
    "job" : {
      "id" : "e2f69d34-21f8-40d4-b87e-f4d9897cd87b",
      "name" : "TEST - Commerce Cloud Product To Power Reviews",
      "enabled" : true,
      "desc" : "TEST - Commerce Cloud Product To Power Reviews",
      "status" : "Ready",
      "key" : "IC-00000018",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 65,
      "updated" : [ 2018, 6, 7, 14, 56, 22, 426000000 ],
      "created" : [ 2018, 6, 7, 13, 54, 32, 207000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "Upload File from Map Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.UploadFileFromMapTask",
    "enabled" : true,
    "desc" : "Task used to upload a file to FTP, SFTP, WebDav, S3, or Local from the map.",
    "refId" : "fb285dc7-59db-4382-b004-df6ee6147084",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : true,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 13, 54, 32, 237000000 ],
    "updated" : [ 2018, 6, 7, 13, 54, 57, 988000000 ],
    "nodeTask" : false
  } ],
  "desc" : "TEST - Commerce Cloud Product To Power Reviews",
  "status" : "Ready",
  "key" : "IC-00000018",
  "readOnly" : false,
  "environment" : "Staging",
  "domain" : {
    "id" : "bd629e46-0892-4060-abe4-fc7269247405",
    "name" : "Ignition",
    "timeZone" : "America/New_York",
    "applicationURL" : "http://demo.ignitiontransform.com",
    "awsRegion" : "us-east-1",
    "environments" : "Staging,Production",
    "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
    "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
  },
  "version" : 65,
  "updated" : [ 2018, 6, 7, 14, 56, 22, 426000000 ],
  "created" : [ 2018, 6, 7, 13, 54, 32, 207000000 ],
  "folder" : {
    "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
  }
}