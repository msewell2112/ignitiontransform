{
  "id" : "6536898b-61b4-4d27-a910-a2b50c8dd9dd",
  "name" : "Demo_ExactTarget",
  "enabled" : true,
  "tasks" : [ {
    "id" : "acb5ad25-5741-4dee-add0-4ca135a13aee",
    "ordinal" : 1,
    "taskParameters" : [ {
      "id" : "9849e370-5380-41d7-bd7f-4631fee581f4",
      "ordinal" : 1,
      "value" : "ken.collins",
      "desc" : "Login user for authentication",
      "name" : "user",
      "valueType" : 0,
      "secret" : false,
      "refId" : "4f75fa01-c582-49aa-8f20-1b48462a8b28",
      "refValue" : "johnny.appleseed",
      "created" : [ 2018, 6, 7, 15, 6, 59, 950000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 950000000 ]
    }, {
      "id" : "75424cf5-ecf3-4fc0-8272-a19cbc2f7fde",
      "ordinal" : 2,
      "value" : "8zNVDnQv7jTGyzUZzEuuMw==",
      "desc" : "Login password for authentication",
      "name" : "password",
      "valueType" : 0,
      "secret" : true,
      "refId" : "48fbf631-e014-45ee-a8eb-298ac7d1fa21",
      "refValue" : "somepassword",
      "created" : [ 2018, 6, 7, 15, 6, 59, 952000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 952000000 ]
    }, {
      "id" : "e62afacf-28cc-412a-81e3-67a8c77a2083",
      "ordinal" : 3,
      "value" : "https://ignition01.alliance-prtnr-na01.dw.demandware.net/on/demandware.servlet/webdav/Sites/Impex/src/ProductExport/ProductExportFeed.xml",
      "desc" : "URL to file",
      "name" : "url",
      "valueType" : 0,
      "secret" : false,
      "refId" : "45c250b3-72b5-4d81-a392-6ab7c6f5709d",
      "refValue" : "ftp://someftphost/input/*.xml",
      "created" : [ 2018, 6, 7, 15, 6, 59, 954000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 954000000 ]
    }, {
      "id" : "7e80c91f-3fef-4ed4-9a88-85514afbaa31",
      "ordinal" : 4,
      "value" : "ProductFile",
      "desc" : "Key name of output file",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "201b77ea-8e35-4c3c-9f45-dd8afc123e10",
      "refValue" : "OutputFileKey",
      "created" : [ 2018, 6, 7, 15, 6, 59, 956000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 956000000 ]
    }, {
      "id" : "4a336e92-c31a-4ee6-932b-0e8023e79471",
      "ordinal" : 5,
      "value" : "function accept(files, file) {\n\treturn true;\n}",
      "desc" : "Javascript function to filter results",
      "name" : "fileFilter",
      "valueType" : 2,
      "secret" : false,
      "refId" : "5f033806-4a10-45cc-8624-047cfc4bfb93",
      "refValue" : "function accept(files, file) {\n\treturn true;\n}",
      "created" : [ 2018, 6, 7, 15, 6, 59, 957000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 957000000 ]
    } ],
    "job" : {
      "id" : "6536898b-61b4-4d27-a910-a2b50c8dd9dd",
      "name" : "Demo_ExactTarget",
      "enabled" : true,
      "desc" : "",
      "status" : "Ready",
      "key" : "IC-00000020",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 78,
      "updated" : [ 2018, 6, 7, 15, 7, 6, 389000000 ],
      "created" : [ 2018, 6, 7, 15, 6, 59, 946000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "Download File to Map Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.DownloadFileToMapTask",
    "enabled" : true,
    "desc" : "Task used to download a file from FTP, SFTP, WebDav, S3, or Local.",
    "refId" : "84211b05-40ce-4939-874d-825b983c3bda",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : true,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 15, 6, 59, 948000000 ],
    "updated" : [ 2018, 6, 7, 15, 6, 59, 948000000 ],
    "nodeTask" : false
  }, {
    "id" : "24b6adeb-201c-40fe-b153-4ec7d98db147",
    "ordinal" : 2,
    "taskParameters" : [ {
      "id" : "9a5f2ab1-7041-4591-8914-fbdde79bc2fc",
      "ordinal" : 1,
      "value" : "ProductFile",
      "desc" : "Key name of input file\n",
      "name" : "inputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "33b71961-09fb-4f69-9df8-46721a14b8a4",
      "refValue" : "InputFileKey",
      "created" : [ 2018, 6, 7, 15, 6, 59, 967000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 967000000 ]
    }, {
      "id" : "1fb808e0-959b-4136-9815-f53bd22086f7",
      "ordinal" : 2,
      "value" : "exactTargetMap",
      "desc" : "Key name of output",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "f1628808-0116-4d32-bff0-af0cb53d06b2",
      "refValue" : "OutputKey",
      "created" : [ 2018, 6, 7, 15, 6, 59, 969000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 969000000 ]
    }, {
      "id" : "4cd615e0-a1fe-434f-94bb-6b6d52def215",
      "ordinal" : 4,
      "value" : "/transform/exact_target/exact_target_record",
      "desc" : "Node to break the row on",
      "name" : "rowIndicator",
      "valueType" : 0,
      "secret" : false,
      "refId" : "be88cc2e-5ba9-4277-a484-1d8146b78565",
      "refValue" : "Order",
      "created" : [ 2018, 6, 7, 15, 6, 59, 970000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 970000000 ]
    } ],
    "job" : {
      "id" : "6536898b-61b4-4d27-a910-a2b50c8dd9dd",
      "name" : "Demo_ExactTarget",
      "enabled" : true,
      "desc" : "",
      "status" : "Ready",
      "key" : "IC-00000020",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 78,
      "updated" : [ 2018, 6, 7, 15, 7, 6, 389000000 ],
      "created" : [ 2018, 6, 7, 15, 6, 59, 946000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "XML to Map Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.XmlToMapTask",
    "enabled" : true,
    "desc" : "Task used to read xml file into the map.",
    "refId" : "4ca3d6e5-23fc-4d6a-beb2-09f0c9a5c2f3",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : false,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 15, 6, 59, 959000000 ],
    "updated" : [ 2018, 6, 7, 15, 6, 59, 959000000 ],
    "nodeTask" : false
  }, {
    "id" : "40971e13-0888-429a-9d15-96e471e20b98",
    "ordinal" : 3,
    "taskParameters" : [ {
      "id" : "1a6a5e46-8c0e-4a75-a925-c8aeecc6d4d1",
      "ordinal" : 1,
      "value" : "var inDebug = dict.inDebug; \n$includeScript('global');\n\ntry {\n    // Read our inventory records 1 at a time\n    var exactIterator = ICT.MAP.ITERATOR('exactTargetMap');\n    var root = new java.util.HashMap();\n    var newRecords = new java.util.ArrayList();\n    while (exactIterator.hasNext()) {\n        var exactRecord = exactIterator.next();\n        var item = new java.util.HashMap();\n       \n        var subKey = exactRecord.id_subkey;\n        if (subKey.length <= 0) {\n            subKey = \"\";\n        }\n        item.put(\"idsubkey\",  subKey);  \n        \n        var fName = exactRecord.usr_firstname;\n        if (fName.length <= 0) {\n            fName = \"\";\n        }\n        item.put(\"firstname\", fName);  \n        \n        var lName = exactRecord.usr_lastname;\n        if (lName.length <= 0) {\n            lName = \"\";\n        }\n        item.put(\"lastname\", lName);  \n        \n        \n        var email = exactRecord.usr_email;\n        if (email.length <= 0) {\n            email = \"\";\n        }\n        item.put(\"email\", email);\n        \n        var source = exactRecord.usr_source;\n        if (source.length <= 0) {\n            source = \"\";\n        }\n        item.put(\"source\", source); \n        \n        var prof = exactRecord.type_prof;\n        if (prof.length <= 0) {\n            prof = \"\";\n        }\n        item.put(\"prof\", prof); \n        \n        var diy = exactRecord.type_diy;\n        if (diy.length <= 0) {\n            diy = \"\";\n        }\n        item.put(\"diy\", diy); \n        \n        var opt1 = exactRecord.pref_opt1;\n        if (opt1.length <= 0) {\n            opt1 = \"\";\n        }\n        item.put(\"opt1\", opt1); \n        \n        \n        var creditCode = exactRecord.CreditCode;\n        if (creditCode.length <= 0) {\n            creditCode = \"\";\n        }\n        item.put(\"CreditCode\", creditCode); \n        \n        var redeemed = exactRecord.Redeemed;\n        if (redeemed.length <= 0) {\n            redeemed = \"\";\n        }\n        item.put(\"Redeemed\", redeemed); \n        \n        var url = exactRecord.url;\n        if (url.length <= 0) {\n            url = \"\";\n        }\n        item.put(\"url\", url);\n        \n        var success = exactRecord.was_success;\n        if (success.length <= 0) {\n            success = \"\";\n        }\n        item.put(\"wasSuccess\", success); \n        \n        newRecords.add(item);\n    }\n    root.put(\"records\", newRecords);\n\n\n    dict.put(\"root\", root);\n\n\n} catch (err) {\n    var errMessage = 'An error occurred while trying to process inventory file Exception: ' + err;\n    ICT.TASK_ERROR('Demo -> Inventory File -> Error', errMessage);    \n}\n\n    ",
      "desc" : "Script to execute",
      "name" : "script",
      "valueType" : 2,
      "secret" : false,
      "refId" : "61734d1c-1ff6-4a2b-a251-00f3bd76b9ed",
      "refValue" : "Javascript",
      "created" : [ 2018, 6, 7, 15, 6, 59, 974000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 974000000 ]
    } ],
    "job" : {
      "id" : "6536898b-61b4-4d27-a910-a2b50c8dd9dd",
      "name" : "Demo_ExactTarget",
      "enabled" : true,
      "desc" : "",
      "status" : "Ready",
      "key" : "IC-00000020",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 78,
      "updated" : [ 2018, 6, 7, 15, 7, 6, 389000000 ],
      "created" : [ 2018, 6, 7, 15, 6, 59, 946000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "Script Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.ScriptTask",
    "enabled" : true,
    "desc" : "Task used to execute custom javascript.",
    "refId" : "f5d44f40-cbd4-45fa-b45f-b062e546ad0f",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : false,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 15, 6, 59, 972000000 ],
    "updated" : [ 2018, 6, 7, 15, 6, 59, 972000000 ],
    "nodeTask" : false
  }, {
    "id" : "11a5adc2-20b3-498a-a97e-e713213b6fae",
    "ordinal" : 5,
    "taskParameters" : [ {
      "id" : "ae588c55-5168-42e8-b0f9-a8e3c5268591",
      "ordinal" : 1,
      "value" : "root",
      "desc" : "Key name of input ",
      "name" : "inputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "e2963db8-9c7d-4863-b1ec-7a1bf15dbd52",
      "refValue" : "InputKey",
      "created" : [ 2018, 6, 7, 15, 6, 59, 978000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 978000000 ]
    }, {
      "id" : "05390682-c771-45c6-a65b-53c71b785b66",
      "ordinal" : 2,
      "value" : "id_subkey,usr_firstname,usr_lastname,usr_email,type_prof,type_diy,usr_source,pref_opt1,CreditCode,Redeemed,url,wasSuccess\n<#list records as map>\n${map.idsubkey},${map.firstname},${map.lastname},${map.email},${map.prof},${map.diy},${map.source},${map.opt1},${map.CreditCode},${map.Redeemed},${map.url},${map.wasSuccess}\n</#list>\n\n",
      "desc" : "Template to use",
      "name" : "template",
      "valueType" : 2,
      "secret" : false,
      "refId" : "ed2bc33b-2474-4c9f-a7bb-80183abe53cf",
      "refValue" : "<xml version=\"1.0\"><test>${test}</test>",
      "created" : [ 2018, 6, 7, 15, 6, 59, 980000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 980000000 ]
    }, {
      "id" : "2de9f334-62a8-4e76-9c6b-6f49c8b5afec",
      "ordinal" : 3,
      "value" : "root",
      "desc" : "Key name of output ",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "be1f40ef-6389-4aa3-9124-4231b715107a",
      "refValue" : "OutputKey",
      "created" : [ 2018, 6, 7, 15, 6, 59, 982000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 982000000 ]
    } ],
    "job" : {
      "id" : "6536898b-61b4-4d27-a910-a2b50c8dd9dd",
      "name" : "Demo_ExactTarget",
      "enabled" : true,
      "desc" : "",
      "status" : "Ready",
      "key" : "IC-00000020",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 78,
      "updated" : [ 2018, 6, 7, 15, 7, 6, 389000000 ],
      "created" : [ 2018, 6, 7, 15, 6, 59, 946000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "Freemarker Execute Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.FreemarkerExecuteTask",
    "enabled" : true,
    "desc" : "Task used to execute Freemarker template.",
    "refId" : "edb872f0-243b-46ea-9149-ca967fe766e7",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : false,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 15, 6, 59, 976000000 ],
    "updated" : [ 2018, 6, 7, 15, 6, 59, 976000000 ],
    "nodeTask" : false
  }, {
    "id" : "2fcc7267-f490-4989-a482-2fb503a8a96d",
    "ordinal" : 5,
    "taskParameters" : [ {
      "id" : "89d42fe6-49ec-4f96-a367-b5f0b04ab19f",
      "ordinal" : 1,
      "value" : "ken.collins",
      "desc" : "Login user for authentication",
      "name" : "user",
      "valueType" : 0,
      "secret" : false,
      "refId" : "a68a11c6-cef6-4408-85f5-4f0728e8e3c7",
      "refValue" : "johnny.appleseed",
      "created" : [ 2018, 6, 7, 15, 6, 59, 985000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 985000000 ]
    }, {
      "id" : "91702e9a-8c12-456e-882f-53f0cc7ee47e",
      "ordinal" : 2,
      "value" : "8zNVDnQv7jTGyzUZzEuuMw==",
      "desc" : "Login password for authentication",
      "name" : "password",
      "valueType" : 0,
      "secret" : true,
      "refId" : "a34fea04-c5b1-442c-975e-1655184f32f3",
      "refValue" : "somepassword",
      "created" : [ 2018, 6, 7, 15, 6, 59, 987000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 987000000 ]
    }, {
      "id" : "dbbd2975-29fe-4dcd-8e93-2c3fae66d2b7",
      "ordinal" : 3,
      "value" : "${\n    'https://ignition01-alliance-prtnr-na01-dw.demandware.net/on/demandware.servlet/webdav/Sites/Impex/src/ProductExport/ExactTargetFile.csv';\n}",
      "desc" : "URL to file",
      "name" : "url",
      "valueType" : 2,
      "secret" : false,
      "refId" : "b102d706-66ce-4d8b-8944-ec8ba327b7b2",
      "refValue" : "ftp://someftphost/input/myfile.xml",
      "created" : [ 2018, 6, 7, 15, 6, 59, 989000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 989000000 ]
    }, {
      "id" : "dcfad970-0f8d-46e7-93e8-9b49f2c34b46",
      "ordinal" : 4,
      "value" : "root",
      "desc" : "Key name of input file",
      "name" : "inputKey",
      "valueType" : 2,
      "secret" : false,
      "refId" : "06532b8a-daf2-457c-8c65-701e9cc0ec01",
      "refValue" : "InputFileKey",
      "created" : [ 2018, 6, 7, 15, 6, 59, 991000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 991000000 ]
    }, {
      "id" : "8a3b8b17-33b5-4f14-9284-1eca52400a64",
      "ordinal" : 5,
      "value" : "true",
      "desc" : "Should we overwrite",
      "name" : "overwrite",
      "valueType" : 0,
      "secret" : false,
      "refId" : "5fa90437-e92d-468d-8890-edf5c8a0f2bc",
      "refValue" : "true",
      "created" : [ 2018, 6, 7, 15, 6, 59, 993000000 ],
      "updated" : [ 2018, 6, 7, 15, 6, 59, 993000000 ]
    } ],
    "job" : {
      "id" : "6536898b-61b4-4d27-a910-a2b50c8dd9dd",
      "name" : "Demo_ExactTarget",
      "enabled" : true,
      "desc" : "",
      "status" : "Ready",
      "key" : "IC-00000020",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 78,
      "updated" : [ 2018, 6, 7, 15, 7, 6, 389000000 ],
      "created" : [ 2018, 6, 7, 15, 6, 59, 946000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "Upload File from Map Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.UploadFileFromMapTask",
    "enabled" : true,
    "desc" : "Task used to upload a file to FTP, SFTP, WebDav, S3, or Local from the map.",
    "refId" : "fb285dc7-59db-4382-b004-df6ee6147084",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : true,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 15, 6, 59, 984000000 ],
    "updated" : [ 2018, 6, 7, 15, 6, 59, 984000000 ],
    "nodeTask" : false
  } ],
  "desc" : "",
  "status" : "Ready",
  "key" : "IC-00000020",
  "readOnly" : false,
  "environment" : "Staging",
  "domain" : {
    "id" : "bd629e46-0892-4060-abe4-fc7269247405",
    "name" : "Ignition",
    "timeZone" : "America/New_York",
    "applicationURL" : "http://demo.ignitiontransform.com",
    "awsRegion" : "us-east-1",
    "environments" : "Staging,Production",
    "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
    "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
  },
  "version" : 78,
  "updated" : [ 2018, 6, 7, 15, 7, 6, 389000000 ],
  "created" : [ 2018, 6, 7, 15, 6, 59, 946000000 ],
  "folder" : {
    "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
  }
}