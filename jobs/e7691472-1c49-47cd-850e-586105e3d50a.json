{
  "id" : "e7691472-1c49-47cd-850e-586105e3d50a",
  "name" : "Demo_Facebook",
  "enabled" : true,
  "tasks" : [ {
    "id" : "282186e8-3a2a-4cdf-8c45-8a3a40dd1f7f",
    "ordinal" : 1,
    "taskParameters" : [ {
      "id" : "1647f018-6e69-4411-9cac-157ff03ec37e",
      "ordinal" : 1,
      "value" : "ken.collins",
      "desc" : "Login user for authentication",
      "name" : "user",
      "valueType" : 0,
      "secret" : false,
      "refId" : "4f75fa01-c582-49aa-8f20-1b48462a8b28",
      "refValue" : "johnny.appleseed",
      "created" : [ 2018, 6, 7, 15, 3, 38, 444000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 444000000 ]
    }, {
      "id" : "3ef03d2d-dac4-4ea6-b850-02245f158fce",
      "ordinal" : 2,
      "value" : "8zNVDnQv7jTGyzUZzEuuMw==",
      "desc" : "Login password for authentication",
      "name" : "password",
      "valueType" : 0,
      "secret" : true,
      "refId" : "48fbf631-e014-45ee-a8eb-298ac7d1fa21",
      "refValue" : "somepassword",
      "created" : [ 2018, 6, 7, 15, 3, 38, 446000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 446000000 ]
    }, {
      "id" : "d9e474d8-e44c-4375-a46b-0646028abbca",
      "ordinal" : 3,
      "value" : "https://ignition01.alliance-prtnr-na01.dw.demandware.net/on/demandware.servlet/webdav/Sites/Impex/src/ProductExport/ProductExportFeed.xml",
      "desc" : "URL to file",
      "name" : "url",
      "valueType" : 0,
      "secret" : false,
      "refId" : "45c250b3-72b5-4d81-a392-6ab7c6f5709d",
      "refValue" : "ftp://someftphost/input/*.xml",
      "created" : [ 2018, 6, 7, 15, 3, 38, 448000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 448000000 ]
    }, {
      "id" : "50a2587e-c475-437d-86b3-e8ecced31bf4",
      "ordinal" : 4,
      "value" : "ProductFile",
      "desc" : "Key name of output file",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "201b77ea-8e35-4c3c-9f45-dd8afc123e10",
      "refValue" : "OutputFileKey",
      "created" : [ 2018, 6, 7, 15, 3, 38, 450000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 450000000 ]
    }, {
      "id" : "87255069-643b-4b9f-a49b-9040dec452d6",
      "ordinal" : 5,
      "value" : "function accept(files, file) {\n\treturn true;\n}",
      "desc" : "Javascript function to filter results",
      "name" : "fileFilter",
      "valueType" : 2,
      "secret" : false,
      "refId" : "5f033806-4a10-45cc-8624-047cfc4bfb93",
      "refValue" : "function accept(files, file) {\n\treturn true;\n}",
      "created" : [ 2018, 6, 7, 15, 3, 38, 452000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 452000000 ]
    } ],
    "job" : {
      "id" : "e7691472-1c49-47cd-850e-586105e3d50a",
      "name" : "Demo_Facebook",
      "enabled" : true,
      "desc" : "",
      "status" : "Ready",
      "key" : "IC-00000016",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 149,
      "updated" : [ 2018, 6, 8, 19, 16, 4, 205000000 ],
      "created" : [ 2018, 6, 6, 19, 4, 27, 695000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "Download File to Map Task",
    "comment" : "Download Product File",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.DownloadFileToMapTask",
    "enabled" : true,
    "desc" : "Task used to download a file from FTP, SFTP, WebDav, S3, or Local.",
    "refId" : "84211b05-40ce-4939-874d-825b983c3bda",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : true,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 15, 3, 38, 442000000 ],
    "updated" : [ 2018, 6, 7, 15, 3, 38, 442000000 ],
    "nodeTask" : false
  }, {
    "id" : "d1fd762b-b06e-4d9b-b3ab-1f3e902c870f",
    "ordinal" : 2,
    "taskParameters" : [ {
      "id" : "27ef7ac0-4d83-4753-a95f-bb095d0f2bf9",
      "ordinal" : 1,
      "value" : "ProductFile",
      "desc" : "Key name of input file\n",
      "name" : "inputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "33b71961-09fb-4f69-9df8-46721a14b8a4",
      "refValue" : "InputFileKey",
      "created" : [ 2018, 6, 7, 15, 3, 38, 456000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 456000000 ]
    }, {
      "id" : "b2e59172-75b8-461f-987f-670d22d68973",
      "ordinal" : 2,
      "value" : "productRecordMap",
      "desc" : "Key name of output",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "f1628808-0116-4d32-bff0-af0cb53d06b2",
      "refValue" : "OutputKey",
      "created" : [ 2018, 6, 7, 15, 3, 38, 458000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 458000000 ]
    }, {
      "id" : "54e761d6-5d18-41b7-b27d-cb11bdb11c08",
      "ordinal" : 4,
      "value" : "/transform/products/product_record",
      "desc" : "Node to break the row on",
      "name" : "rowIndicator",
      "valueType" : 0,
      "secret" : false,
      "refId" : "be88cc2e-5ba9-4277-a484-1d8146b78565",
      "refValue" : "Order",
      "created" : [ 2018, 6, 7, 15, 3, 38, 460000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 460000000 ]
    } ],
    "job" : {
      "id" : "e7691472-1c49-47cd-850e-586105e3d50a",
      "name" : "Demo_Facebook",
      "enabled" : true,
      "desc" : "",
      "status" : "Ready",
      "key" : "IC-00000016",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 149,
      "updated" : [ 2018, 6, 8, 19, 16, 4, 205000000 ],
      "created" : [ 2018, 6, 6, 19, 4, 27, 695000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "XML to Map Task",
    "comment" : "Grab product Export file",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.XmlToMapTask",
    "enabled" : true,
    "desc" : "Task used to read xml file into the map.",
    "refId" : "4ca3d6e5-23fc-4d6a-beb2-09f0c9a5c2f3",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : false,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 15, 3, 38, 454000000 ],
    "updated" : [ 2018, 6, 7, 15, 3, 38, 454000000 ],
    "nodeTask" : false
  }, {
    "id" : "b7022713-bb29-4ff3-8608-c6bdbf72386c",
    "ordinal" : 3,
    "taskParameters" : [ {
      "id" : "2b85afc1-9332-4f18-871b-4c1b0855a58f",
      "ordinal" : 1,
      "value" : "var inDebug = dict.inDebug; \n$includeScript('global');\n\ntry {\n    // Read our inventory records 1 at a time\n    var productIterator = ICT.MAP.ITERATOR('productRecordMap');\n    ICT.PRINT(\"test\");\n    \n    var root = new java.util.HashMap();\n    var channelList = new java.util.LinkedHashMap();\n    var header = new java.util.LinkedHashMap();\n \n    var newRecords = new java.util.ArrayList();\n\n    channelList.put(\"title\", \"FaceBook Feed\");\n    channelList.put(\"description\", \"Facebook Product List\");\n    channelList.put(\"link\", \"http://www.example.com\");\n    \n    newRecords.add(channelList);\n\n    while (productIterator.hasNext()) {\n        var recordMap = new java.util.LinkedHashMap();\n         \n        var productRecord = productIterator.next();\n        var item = new java.util.HashMap();\n        var records = new java.util.ArrayList();\n        item.put(\"g:id\", productRecord.product_id);  \n        item.put(\"g:availability\", productRecord.product_availability);\n        item.put(\"g:condition\", \"New\");\n        item.put(\"g:descrition\", productRecord.product_long_description);   \n        item.put(\"g:image_link\", productRecord.product_image_link);  \n        item.put(\"g:link\", productRecord.product_url);   \n        item.put(\"g:title\", productRecord.product_name);  \n        item.put(\"g:price\", productRecord.product_price_default);  \n        item.put(\"g:gtin\", productRecord.upc);  \n        item.put(\"g:brand  \", productRecord.product_brand);  \n        item.put(\"g:mpn\", productRecord.product_manufacturer_sku);  \n        item.put(\"g:Item_Group_ID\", productRecord.product_primary_category);  \n        recordMap.put(\"item\", item);\n        newRecords.add(recordMap);\n    }\n    var channelMap = new java.util.LinkedHashMap();\n    \n    //channelList.put(\"records\", newRecords);\n    channelMap.put(\"channel\", newRecords);\n    root.put(\"rss\",\"\");\n    root.put(\"rss@xmlns:g\", \"http://base.google.com/ns/1.0\");\n    root.put(\"rss@version\", \"2.0\");\n    root.put(\"rss\", channelMap);\n\n\n    dict.put(\"root\", root);\n\n\n} catch (err) {\n    var errMessage = 'An error occurred while trying to process inventory file Exception: ' + err;\n    ICT.TASK_ERROR('Demo -> Inventory File -> Error', errMessage);    \n}\n    ",
      "desc" : "Script to execute",
      "name" : "script",
      "valueType" : 2,
      "secret" : false,
      "refId" : "61734d1c-1ff6-4a2b-a251-00f3bd76b9ed",
      "refValue" : "Javascript",
      "created" : [ 2018, 6, 7, 15, 3, 38, 463000000 ],
      "updated" : [ 2018, 6, 8, 19, 16, 4, 190000000 ]
    } ],
    "job" : {
      "id" : "e7691472-1c49-47cd-850e-586105e3d50a",
      "name" : "Demo_Facebook",
      "enabled" : true,
      "desc" : "",
      "status" : "Ready",
      "key" : "IC-00000016",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 149,
      "updated" : [ 2018, 6, 8, 19, 16, 4, 205000000 ],
      "created" : [ 2018, 6, 6, 19, 4, 27, 695000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "Script Task",
    "comment" : "Read Map",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.ScriptTask",
    "enabled" : true,
    "desc" : "Task used to execute custom javascript.",
    "refId" : "f5d44f40-cbd4-45fa-b45f-b062e546ad0f",
    "stopOnError" : false,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : false,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 15, 3, 38, 461000000 ],
    "updated" : [ 2018, 6, 7, 15, 3, 38, 461000000 ],
    "nodeTask" : false
  }, {
    "id" : "57a30d05-2de1-479c-b2f9-dab7279d35ba",
    "ordinal" : 4,
    "taskParameters" : [ {
      "id" : "ddb42d85-6075-4805-ab4b-cb101cd64e85",
      "ordinal" : 1,
      "value" : "root",
      "desc" : "Key name of input",
      "name" : "inputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "19cf42e8-0f0d-4244-b015-3f67c88465a4",
      "refValue" : "InputKey",
      "created" : [ 2018, 6, 7, 15, 3, 38, 467000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 467000000 ]
    }, {
      "id" : "0b9e6b1a-7f28-4a14-8322-2e760a0ce671",
      "ordinal" : 2,
      "value" : "FacebookFile",
      "desc" : "Key name of output",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "85ca9a8d-d29e-4680-9a76-f32ba6e35b7c",
      "refValue" : "OutputKey",
      "created" : [ 2018, 6, 7, 15, 3, 38, 469000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 469000000 ]
    } ],
    "job" : {
      "id" : "e7691472-1c49-47cd-850e-586105e3d50a",
      "name" : "Demo_Facebook",
      "enabled" : true,
      "desc" : "",
      "status" : "Ready",
      "key" : "IC-00000016",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 149,
      "updated" : [ 2018, 6, 8, 19, 16, 4, 205000000 ],
      "created" : [ 2018, 6, 6, 19, 4, 27, 695000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "Map to Xml Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.MapToXMLTask",
    "enabled" : true,
    "desc" : "Task used to convert a map to xml file.",
    "refId" : "a7958eba-812f-40bd-b0db-267cdea96427",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : false,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 15, 3, 38, 465000000 ],
    "updated" : [ 2018, 6, 7, 15, 3, 38, 465000000 ],
    "nodeTask" : false
  }, {
    "id" : "d1d5f243-54dc-447d-bc52-1da067e7f2e2",
    "ordinal" : 5,
    "taskParameters" : [ {
      "id" : "55aa6074-e73a-41bc-8fc6-6af0a4fb9ad7",
      "ordinal" : 1,
      "value" : "ken.collins",
      "desc" : "Login user for authentication",
      "name" : "user",
      "valueType" : 0,
      "secret" : false,
      "refId" : "a68a11c6-cef6-4408-85f5-4f0728e8e3c7",
      "refValue" : "johnny.appleseed",
      "created" : [ 2018, 6, 7, 15, 3, 38, 472000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 472000000 ]
    }, {
      "id" : "1dc97f42-5816-48e4-bb52-294a7266a8f6",
      "ordinal" : 2,
      "value" : "8zNVDnQv7jTGyzUZzEuuMw==",
      "desc" : "Login password for authentication",
      "name" : "password",
      "valueType" : 0,
      "secret" : true,
      "refId" : "a34fea04-c5b1-442c-975e-1655184f32f3",
      "refValue" : "somepassword",
      "created" : [ 2018, 6, 7, 15, 3, 38, 474000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 474000000 ]
    }, {
      "id" : "8c4f619f-5e1b-4862-8fb3-91907d31bc94",
      "ordinal" : 3,
      "value" : "${\n    'https://ignition01-alliance-prtnr-na01-dw.demandware.net/on/demandware.servlet/webdav/Sites/Impex/src/ProductExport/FacebookFile.xml';\n}",
      "desc" : "URL to file",
      "name" : "url",
      "valueType" : 2,
      "secret" : false,
      "refId" : "b102d706-66ce-4d8b-8944-ec8ba327b7b2",
      "refValue" : "ftp://someftphost/input/myfile.xml",
      "created" : [ 2018, 6, 7, 15, 3, 38, 476000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 476000000 ]
    }, {
      "id" : "a55ce205-476b-47e2-b73b-5d1b18066c0e",
      "ordinal" : 4,
      "value" : "FacebookFile",
      "desc" : "Key name of input file",
      "name" : "inputKey",
      "valueType" : 2,
      "secret" : false,
      "refId" : "06532b8a-daf2-457c-8c65-701e9cc0ec01",
      "refValue" : "InputFileKey",
      "created" : [ 2018, 6, 7, 15, 3, 38, 478000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 478000000 ]
    }, {
      "id" : "5f0ecd4b-7853-41e1-86d2-47782636922e",
      "ordinal" : 5,
      "value" : "true",
      "desc" : "Should we overwrite",
      "name" : "overwrite",
      "valueType" : 0,
      "secret" : false,
      "refId" : "5fa90437-e92d-468d-8890-edf5c8a0f2bc",
      "refValue" : "true",
      "created" : [ 2018, 6, 7, 15, 3, 38, 480000000 ],
      "updated" : [ 2018, 6, 7, 15, 3, 38, 480000000 ]
    } ],
    "job" : {
      "id" : "e7691472-1c49-47cd-850e-586105e3d50a",
      "name" : "Demo_Facebook",
      "enabled" : true,
      "desc" : "",
      "status" : "Ready",
      "key" : "IC-00000016",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
        "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
      },
      "version" : 149,
      "updated" : [ 2018, 6, 8, 19, 16, 4, 205000000 ],
      "created" : [ 2018, 6, 6, 19, 4, 27, 695000000 ],
      "folder" : {
        "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
      }
    },
    "name" : "Upload File from Map Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.UploadFileFromMapTask",
    "enabled" : true,
    "desc" : "Task used to upload a file to FTP, SFTP, WebDav, S3, or Local from the map.",
    "refId" : "fb285dc7-59db-4382-b004-df6ee6147084",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : true,
    "interval" : 0,
    "created" : [ 2018, 6, 7, 15, 3, 38, 471000000 ],
    "updated" : [ 2018, 6, 7, 15, 3, 38, 471000000 ],
    "nodeTask" : false
  } ],
  "desc" : "",
  "status" : "Ready",
  "key" : "IC-00000016",
  "readOnly" : false,
  "environment" : "Staging",
  "domain" : {
    "id" : "bd629e46-0892-4060-abe4-fc7269247405",
    "name" : "Ignition",
    "timeZone" : "America/New_York",
    "applicationURL" : "http://demo.ignitiontransform.com",
    "awsRegion" : "us-east-1",
    "environments" : "Staging,Production",
    "updated" : [ 1970, 1, 18, 14, 19, 5, 459000000 ],
    "created" : [ 1970, 1, 18, 14, 19, 5, 459000000 ]
  },
  "version" : 149,
  "updated" : [ 2018, 6, 8, 19, 16, 4, 205000000 ],
  "created" : [ 2018, 6, 6, 19, 4, 27, 695000000 ],
  "folder" : {
    "id" : "28163089-21d3-4807-9cf5-55bce7c38bb4"
  }
}