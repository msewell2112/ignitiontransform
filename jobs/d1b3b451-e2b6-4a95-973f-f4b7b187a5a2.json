{
  "id" : "d1b3b451-e2b6-4a95-973f-f4b7b187a5a2",
  "name" : "Demo_Facebook",
  "lastRun" : [ 2018, 4, 27, 10, 41, 3, 480000000 ],
  "enabled" : true,
  "tasks" : [ {
    "id" : "e5eca663-2527-477f-89cc-49ef0b22edc4",
    "ordinal" : 1,
    "taskParameters" : [ {
      "id" : "23e1e3e7-9e62-45b6-8b2d-7db51c8d9594",
      "ordinal" : 1,
      "value" : "!{ignitionuser}",
      "desc" : "Login user for authentication",
      "name" : "user",
      "valueType" : 0,
      "secret" : false,
      "refId" : "4f75fa01-c582-49aa-8f20-1b48462a8b28",
      "refValue" : "johnny.appleseed",
      "created" : [ 2018, 6, 26, 8, 8, 27, 481000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 481000000 ]
    }, {
      "id" : "acb993b1-c99d-4e96-b2f8-000b6133a3d3",
      "ordinal" : 2,
      "value" : "Smml8WxwI4WDXEzZqtzfjA==",
      "desc" : "Login password for authentication",
      "name" : "password",
      "valueType" : 0,
      "secret" : true,
      "refId" : "48fbf631-e014-45ee-a8eb-298ac7d1fa21",
      "refValue" : "somepassword",
      "created" : [ 2018, 6, 26, 8, 8, 27, 481000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 481000000 ]
    }, {
      "id" : "485c922f-f55a-4a08-a2f7-508ca0c13df9",
      "ordinal" : 3,
      "value" : "!{ignitionproductfile}",
      "desc" : "URL to file",
      "name" : "url",
      "valueType" : 0,
      "secret" : false,
      "refId" : "45c250b3-72b5-4d81-a392-6ab7c6f5709d",
      "refValue" : "ftp://someftphost/input/*.xml",
      "created" : [ 2018, 6, 26, 8, 8, 27, 482000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 482000000 ]
    }, {
      "id" : "66ecf794-abd1-4413-9080-af903c2ce200",
      "ordinal" : 4,
      "value" : "ProductFile",
      "desc" : "Key name of output file",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "201b77ea-8e35-4c3c-9f45-dd8afc123e10",
      "refValue" : "OutputFileKey",
      "created" : [ 2018, 6, 26, 8, 8, 27, 482000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 482000000 ]
    }, {
      "id" : "d88817e5-2e8c-4974-bf7e-a2e818e9a172",
      "ordinal" : 5,
      "value" : "function accept(files, file) {\n\treturn true;\n}",
      "desc" : "Javascript function to filter results",
      "name" : "fileFilter",
      "valueType" : 2,
      "secret" : false,
      "refId" : "5f033806-4a10-45cc-8624-047cfc4bfb93",
      "refValue" : "function accept(files, file) {\n\treturn true;\n}",
      "created" : [ 2018, 6, 26, 8, 8, 27, 482000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 482000000 ]
    } ],
    "job" : {
      "id" : "d1b3b451-e2b6-4a95-973f-f4b7b187a5a2",
      "name" : "Demo_Facebook",
      "lastRun" : [ 2018, 4, 27, 10, 41, 3, 480000000 ],
      "enabled" : true,
      "desc" : "",
      "status" : "READY",
      "key" : "IC-00000016",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 2018, 5, 30, 11, 7, 13, 195000000 ],
        "created" : [ 1970, 1, 18, 9, 19, 5, 459000000 ]
      },
      "version" : 168,
      "updated" : [ 2018, 6, 26, 8, 8, 27, 478000000 ],
      "created" : [ 2018, 4, 4, 10, 26, 21, 640000000 ],
      "folder" : { }
    },
    "name" : "Download File to Map Task",
    "comment" : "Download Product File",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.DownloadFileToMapTask",
    "enabled" : true,
    "desc" : "Task used to download a file from FTP, SFTP, WebDav, S3, or Local.",
    "refId" : "84211b05-40ce-4939-874d-825b983c3bda",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : true,
    "interval" : 0,
    "created" : [ 2018, 6, 26, 8, 8, 27, 480000000 ],
    "updated" : [ 2018, 6, 26, 8, 8, 27, 480000000 ],
    "nodeTask" : false
  }, {
    "id" : "3135fbed-6c61-46f1-bc44-411db974dd16",
    "ordinal" : 2,
    "taskParameters" : [ {
      "id" : "b934b453-23a1-4bcc-bf58-2d4bed650c2c",
      "ordinal" : 1,
      "value" : "ProductFile",
      "desc" : "Key name of input file\n",
      "name" : "inputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "33b71961-09fb-4f69-9df8-46721a14b8a4",
      "refValue" : "InputFileKey",
      "created" : [ 2018, 6, 26, 8, 8, 27, 483000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 483000000 ]
    }, {
      "id" : "ced3f50d-2f9f-4b6d-94fc-1261b136f968",
      "ordinal" : 2,
      "value" : "productRecordMap",
      "desc" : "Key name of output",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "f1628808-0116-4d32-bff0-af0cb53d06b2",
      "refValue" : "OutputKey",
      "created" : [ 2018, 6, 26, 8, 8, 27, 484000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 484000000 ]
    }, {
      "id" : "402048cb-3ed8-4aa7-9e49-6d1f1e1a150b",
      "ordinal" : 4,
      "value" : "/transform/products/product_record",
      "desc" : "Node to break the row on",
      "name" : "rowIndicator",
      "valueType" : 0,
      "secret" : false,
      "refId" : "be88cc2e-5ba9-4277-a484-1d8146b78565",
      "refValue" : "Order",
      "created" : [ 2018, 6, 26, 8, 8, 27, 484000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 484000000 ]
    } ],
    "job" : {
      "id" : "d1b3b451-e2b6-4a95-973f-f4b7b187a5a2",
      "name" : "Demo_Facebook",
      "lastRun" : [ 2018, 4, 27, 10, 41, 3, 480000000 ],
      "enabled" : true,
      "desc" : "",
      "status" : "READY",
      "key" : "IC-00000016",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 2018, 5, 30, 11, 7, 13, 195000000 ],
        "created" : [ 1970, 1, 18, 9, 19, 5, 459000000 ]
      },
      "version" : 168,
      "updated" : [ 2018, 6, 26, 8, 8, 27, 478000000 ],
      "created" : [ 2018, 4, 4, 10, 26, 21, 640000000 ],
      "folder" : { }
    },
    "name" : "XML to Map Task",
    "comment" : "Grab product Export file",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.XmlToMapTask",
    "enabled" : true,
    "desc" : "Task used to read xml file into the map.",
    "refId" : "4ca3d6e5-23fc-4d6a-beb2-09f0c9a5c2f3",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : false,
    "interval" : 0,
    "created" : [ 2018, 6, 26, 8, 8, 27, 483000000 ],
    "updated" : [ 2018, 6, 26, 8, 8, 27, 483000000 ],
    "nodeTask" : false
  }, {
    "id" : "73193d70-3e05-49c1-a212-d71b8ab2f9c3",
    "ordinal" : 3,
    "taskParameters" : [ {
      "id" : "867c5d4e-7b4a-4dfd-803c-95081148f537",
      "ordinal" : 1,
      "value" : "var inDebug = dict.inDebug; \n$includeScript('global');\n\ntry {\n    dict.put(\"root\", _generateFeed(ICT.MAP.ITERATOR('productRecordMap'), function(record, row) {\n        // Here is where you can modify the object graph that was build up in the \n        // internal function _generateFeed.  For example, I could add a custom\n        // attribute by...\n        // row.put('g:customfield', 'My Value');\n        return row;\n    }));\n\n} catch (err) {\n    var errMessage = 'An error occurred while trying to generate facebook file  Exception: ' + err;\n    ICT.TASK_ERROR('Demo_Facebook -> Error', errMessage);    \n}\n\n\n//#region PRIVATE\n/**\n * This is meant to be a private function.  Do not modify.  Any modification\n * should be done in the processRow function passed into this function\n */\nfunction _generateFeed(productIterator, processRow) {\n    var root = new java.util.HashMap();\n    var channelList = new java.util.LinkedHashMap();\n    var header = new java.util.LinkedHashMap();\n \n    var newRecords = new java.util.ArrayList();\n\n    channelList.put(\"title\", \"FaceBook Feed\");\n    channelList.put(\"description\", \"Facebook Product List\");\n    channelList.put(\"link\", \"http://www.example.com\");\n    \n    newRecords.add(channelList);\n\n    while (productIterator.hasNext()) {\n        var recordMap = new java.util.LinkedHashMap();\n         \n        var productRecord = productIterator.next();\n        var item = new java.util.HashMap();\n        var records = new java.util.ArrayList();\n        item.put(\"g:id\", productRecord.product_id);  \n        item.put(\"g:availability\", productRecord.product_availability);\n        item.put(\"g:condition\", \"New\");\n        item.put(\"g:descrition\", productRecord.product_long_description);   \n        item.put(\"g:image_link\", productRecord.product_image_link);  \n        item.put(\"g:link\", productRecord.product_url);   \n        item.put(\"g:title\", productRecord.product_name);  \n        item.put(\"g:price\", productRecord.product_price_default);  \n        item.put(\"g:gtin\", productRecord.upc);  \n        item.put(\"g:brand  \", productRecord.product_brand);  \n        item.put(\"g:mpn\", productRecord.product_manufacturer_sku);  \n        item.put(\"g:Item_Group_ID\", productRecord.product_primary_category);  \n        recordMap.put(\"item\", processRow(productRecord, item));\n        newRecords.add(recordMap);\n    }\n    var channelMap = new java.util.LinkedHashMap();\n    channelMap.put(\"channel\", newRecords);\n    root.put(\"rss\",\"\");\n    root.put(\"rss@xmlns:g\", \"http://base.google.com/ns/1.0\");\n    root.put(\"rss@version\", \"2.0\");\n    root.put(\"rss\", channelMap);\n    \n    return root;\n\n}\n//#endregion \n\n",
      "desc" : "Script to execute",
      "name" : "script",
      "valueType" : 2,
      "secret" : false,
      "refId" : "61734d1c-1ff6-4a2b-a251-00f3bd76b9ed",
      "refValue" : "/**\n * A cool script that is documented right here.\n *\n * Author: !{ScriptAuthor} \n */\nvar inDebug = dict.inDebug; \n$includeScript('global');\n",
      "created" : [ 2018, 6, 26, 8, 8, 27, 485000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 485000000 ]
    } ],
    "job" : {
      "id" : "d1b3b451-e2b6-4a95-973f-f4b7b187a5a2",
      "name" : "Demo_Facebook",
      "lastRun" : [ 2018, 4, 27, 10, 41, 3, 480000000 ],
      "enabled" : true,
      "desc" : "",
      "status" : "READY",
      "key" : "IC-00000016",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 2018, 5, 30, 11, 7, 13, 195000000 ],
        "created" : [ 1970, 1, 18, 9, 19, 5, 459000000 ]
      },
      "version" : 168,
      "updated" : [ 2018, 6, 26, 8, 8, 27, 478000000 ],
      "created" : [ 2018, 4, 4, 10, 26, 21, 640000000 ],
      "folder" : { }
    },
    "name" : "Script Task",
    "comment" : "Read Map",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.ScriptTask",
    "enabled" : true,
    "desc" : "Task used to execute custom javascript.",
    "refId" : "f5d44f40-cbd4-45fa-b45f-b062e546ad0f",
    "stopOnError" : false,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : false,
    "interval" : 0,
    "created" : [ 2018, 6, 26, 8, 8, 27, 485000000 ],
    "updated" : [ 2018, 6, 26, 8, 8, 27, 485000000 ],
    "nodeTask" : false
  }, {
    "id" : "38e77294-92e5-4620-8d48-7ffd2d6ef3eb",
    "ordinal" : 4,
    "taskParameters" : [ {
      "id" : "0a901106-d36b-453d-95d9-50140ef12e2c",
      "ordinal" : 1,
      "value" : "root",
      "desc" : "Key name of input",
      "name" : "inputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "19cf42e8-0f0d-4244-b015-3f67c88465a4",
      "refValue" : "InputKey",
      "created" : [ 2018, 6, 26, 8, 8, 27, 486000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 486000000 ]
    }, {
      "id" : "cdeb7a58-3025-41c6-82b0-3e8e605f0883",
      "ordinal" : 2,
      "value" : "FacebookFile",
      "desc" : "Key name of output",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "85ca9a8d-d29e-4680-9a76-f32ba6e35b7c",
      "refValue" : "OutputKey",
      "created" : [ 2018, 6, 26, 8, 8, 27, 487000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 487000000 ]
    } ],
    "job" : {
      "id" : "d1b3b451-e2b6-4a95-973f-f4b7b187a5a2",
      "name" : "Demo_Facebook",
      "lastRun" : [ 2018, 4, 27, 10, 41, 3, 480000000 ],
      "enabled" : true,
      "desc" : "",
      "status" : "READY",
      "key" : "IC-00000016",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 2018, 5, 30, 11, 7, 13, 195000000 ],
        "created" : [ 1970, 1, 18, 9, 19, 5, 459000000 ]
      },
      "version" : 168,
      "updated" : [ 2018, 6, 26, 8, 8, 27, 478000000 ],
      "created" : [ 2018, 4, 4, 10, 26, 21, 640000000 ],
      "folder" : { }
    },
    "name" : "Map to Xml Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.MapToXMLTask",
    "enabled" : true,
    "desc" : "Task used to convert a map to xml file.",
    "refId" : "a7958eba-812f-40bd-b0db-267cdea96427",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : false,
    "interval" : 0,
    "created" : [ 2018, 6, 26, 8, 8, 27, 486000000 ],
    "updated" : [ 2018, 6, 26, 8, 8, 27, 486000000 ],
    "nodeTask" : false
  }, {
    "id" : "6533806e-4304-4eef-af03-f937fe7ba0d3",
    "ordinal" : 5,
    "taskParameters" : [ {
      "id" : "124684cb-29de-4e62-b7dd-690dc829d558",
      "ordinal" : 1,
      "value" : "ken.collins",
      "desc" : "Login user for authentication",
      "name" : "user",
      "valueType" : 0,
      "secret" : false,
      "refId" : "a68a11c6-cef6-4408-85f5-4f0728e8e3c7",
      "refValue" : "johnny.appleseed",
      "created" : [ 2018, 6, 26, 8, 8, 27, 505000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 505000000 ]
    }, {
      "id" : "2a4c08a5-e7b4-42c3-8584-3e6d531ab349",
      "ordinal" : 2,
      "value" : "8zNVDnQv7jTGyzUZzEuuMw==",
      "desc" : "Login password for authentication",
      "name" : "password",
      "valueType" : 0,
      "secret" : true,
      "refId" : "a34fea04-c5b1-442c-975e-1655184f32f3",
      "refValue" : "somepassword",
      "created" : [ 2018, 6, 26, 8, 8, 27, 506000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 506000000 ]
    }, {
      "id" : "bc0b9d37-4619-4af3-a4ed-40cab3395652",
      "ordinal" : 3,
      "value" : "${\n    'https://ignition01-alliance-prtnr-na01-dw.demandware.net/on/demandware.servlet/webdav/Sites/Impex/src/ProductExport/FacebookFile.xml';\n}",
      "desc" : "URL to file",
      "name" : "url",
      "valueType" : 2,
      "secret" : false,
      "refId" : "b102d706-66ce-4d8b-8944-ec8ba327b7b2",
      "refValue" : "ftp://someftphost/input/myfile.xml",
      "created" : [ 2018, 6, 26, 8, 8, 27, 506000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 506000000 ]
    }, {
      "id" : "1759dd73-8586-46ee-85ff-34d1ea514371",
      "ordinal" : 4,
      "value" : "FacebookFile",
      "desc" : "Key name of input file",
      "name" : "inputKey",
      "valueType" : 2,
      "secret" : false,
      "refId" : "06532b8a-daf2-457c-8c65-701e9cc0ec01",
      "refValue" : "InputFileKey",
      "created" : [ 2018, 6, 26, 8, 8, 27, 507000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 507000000 ]
    }, {
      "id" : "74d9a59e-6372-483e-ba63-ef045b9166fc",
      "ordinal" : 5,
      "value" : "true",
      "desc" : "Should we overwrite",
      "name" : "overwrite",
      "valueType" : 0,
      "secret" : false,
      "refId" : "5fa90437-e92d-468d-8890-edf5c8a0f2bc",
      "refValue" : "true",
      "created" : [ 2018, 6, 26, 8, 8, 27, 507000000 ],
      "updated" : [ 2018, 6, 26, 8, 8, 27, 507000000 ]
    } ],
    "job" : {
      "id" : "d1b3b451-e2b6-4a95-973f-f4b7b187a5a2",
      "name" : "Demo_Facebook",
      "lastRun" : [ 2018, 4, 27, 10, 41, 3, 480000000 ],
      "enabled" : true,
      "desc" : "",
      "status" : "READY",
      "key" : "IC-00000016",
      "readOnly" : false,
      "environment" : "Staging",
      "domain" : {
        "id" : "bd629e46-0892-4060-abe4-fc7269247405",
        "name" : "Ignition",
        "timeZone" : "America/New_York",
        "applicationURL" : "http://demo.ignitiontransform.com",
        "awsRegion" : "us-east-1",
        "environments" : "Staging,Production",
        "updated" : [ 2018, 5, 30, 11, 7, 13, 195000000 ],
        "created" : [ 1970, 1, 18, 9, 19, 5, 459000000 ]
      },
      "version" : 168,
      "updated" : [ 2018, 6, 26, 8, 8, 27, 478000000 ],
      "created" : [ 2018, 4, 4, 10, 26, 21, 640000000 ],
      "folder" : { }
    },
    "name" : "Upload File from Map Task",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.UploadFileFromMapTask",
    "enabled" : true,
    "desc" : "Task used to upload a file to FTP, SFTP, WebDav, S3, or Local from the map.",
    "refId" : "fb285dc7-59db-4382-b004-df6ee6147084",
    "stopOnError" : true,
    "reportOnError" : true,
    "notify" : false,
    "nodeEligible" : true,
    "interval" : 0,
    "created" : [ 2018, 6, 26, 8, 8, 27, 487000000 ],
    "updated" : [ 2018, 6, 26, 8, 8, 27, 487000000 ],
    "nodeTask" : false
  } ],
  "desc" : "",
  "status" : "READY",
  "key" : "IC-00000016",
  "readOnly" : false,
  "environment" : "Staging",
  "domain" : {
    "id" : "bd629e46-0892-4060-abe4-fc7269247405",
    "name" : "Ignition",
    "timeZone" : "America/New_York",
    "applicationURL" : "http://demo.ignitiontransform.com",
    "awsRegion" : "us-east-1",
    "environments" : "Staging,Production",
    "updated" : [ 2018, 5, 30, 11, 7, 13, 195000000 ],
    "created" : [ 1970, 1, 18, 9, 19, 5, 459000000 ]
  },
  "version" : 168,
  "updated" : [ 2018, 6, 26, 8, 8, 27, 478000000 ],
  "created" : [ 2018, 4, 4, 10, 26, 21, 640000000 ],
  "folder" : { }
}